#### 提现重构



音效添加



~~animator整理~~

#### 坐标转换整理

我转过哪些坐标？

倒水新手引导 手势和瓶子 世界和ui

```
hand1.transform.position = new Vector3(BottlesManager.bottleControllers[0].transform.position.x,
    BottlesManager.bottleControllers[0].transform.position.y -
    BottlesManager.bottleControllers[0].transform.GetChild(8).GetComponent<SpriteRenderer>().bounds.size.y / 2f,
    bottlePos.z);
```

杨哥停车新手引导

```c#
private void ShowDrawHand()
{
    Debug.Log("ShowDrawHand");
    if (GameController.CurLevelIndex == 0)
    {
        var carWorldPos = LevelObjectsSpawner.MovableControllers[0].transform.position;
        var carScreenPos = RectTransformUtility.WorldToScreenPoint(CameraController.MainCamera, carWorldPos);
        RectTransformUtility.ScreenPointToLocalPointInRectangle(GetComponent<RectTransform>(), carScreenPos, Camera.main, out var carLocalPos);
        drawHand.anchoredPosition = carLocalPos + new Vector2(50, -20);

        var parkWorldPos = LevelObjectsSpawner.ParkingSpaceControllers[0].transform.position;
        var parkScreenPos = RectTransformUtility.WorldToScreenPoint(CameraController.MainCamera, parkWorldPos);
        RectTransformUtility.ScreenPointToLocalPointInRectangle(GetComponent<RectTransform>(), parkScreenPos, Camera.main, out var parkLocalPos);
        drawHandAnim ??= DOTween.Sequence()
            // .Append(drawHand.DOScale(1.5f, 0.3f))
            // .Append(drawHand.DOScale(1f, 0.3f))
            // .Append(drawHand.DOScale(1.5f, 0.3f))
            // .Append(drawHand.DOScale(1f, 0.3f))
            
            .Insert(0.5f, drawHand.DOAnchorPosY(parkLocalPos.y - 40, 0.8f))
            // .Append(drawHand.DOScale(1.5f, 0.3f))
            // .Append(drawHand.DOScale(1f, 0.3f))
            .Append(drawHand.GetComponent<Image>().DOFade(0, 0.2f))
            .AppendInterval(1.5f)
            .SetLoops(-1, LoopType.Restart)
            .Pause();
        
        drawHand.gameObject.SetActive(true);
        drawHandAnim.Restart();
    }
    else
    {
        drawHand.gameObject.SetActive(false);
    }
}

private void ShowStartPointHand()
{
    Debug.Log("ShowStartPointHand");
    if (RecordManager.RecordData.IsStartPointGuideShowed == false)
    {
        RecordManager.RecordData.IsStartPointGuideShowed = true;
        var startPointWorldPos = StartPointController.GetBigStartPoint().transform.position;
        var startPointScreenPos =
            RectTransformUtility.WorldToScreenPoint(CameraController.MainCamera, startPointWorldPos);
        RectTransformUtility.ScreenPointToLocalPointInRectangle(GetComponent<RectTransform>(), startPointScreenPos,
            Camera.main, out var startPointLocalPos);
        startPointHand.anchoredPosition = startPointLocalPos + new Vector2(0, 100);

        startPointHandAnim ??= DOTween.Sequence()
            .Append(startPointHand.DOAnchorPosY(-20, 0.3f).SetRelative())
            .Append(startPointHand.DOAnchorPosY(20, 0.3f).SetRelative())
            .Append(startPointHand.DOAnchorPosY(-20, 0.3f).SetRelative())
            .Append(startPointHand.DOAnchorPosY(20, 0.3f).SetRelative())
            .AppendInterval(1.5f)
            .SetLoops(-1, LoopType.Restart)
            .Pause();

        startPointHand.gameObject.SetActive(true);
        startPointHandAnim.Restart();
    }
}
```

书



